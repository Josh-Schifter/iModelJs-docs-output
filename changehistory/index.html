<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>1.1.0 Change Notes - iModel.js</title>
    <meta name="og:title" content="1.1.0 Change Notes - iModel.js">
    <meta name="twitter:title" content="1.1.0 Change Notes - iModel.js">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="https://imodeljs.github.io/iModelJs-docs-output//styles/bundle.css">

    <!-- bootstrap -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

    <!-- fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet"> 
    
    <link rel="stylesheet" type="text/css" href="https://imodeljs.github.io/iModelJs-docs-output//styles/devRegistration.css"> 
    
    <link rel="stylesheet" type="text/css" href="https://imodeljs.github.io/iModelJs-docs-output//styles/landingPage.css">  
        <link rel='shortcut icon' type='image/x-icon' href='https://imodeljs.github.io/iModelJs-docs-output//landing-page/assets/imodeljs_16.png' /> 
        <meta property="og:description" content="Create Immersive Connections with your Infrastructure Digital Twin."><meta property="og:url" content="imodeljs.org"><meta name="twitter:card" content="summary_large_image">
        <meta property="og:image" content="https://imodeljs.github.io/iModelJs-docs-output//landing-page/assets/twitter-share.png">
        <meta />
</head>

<body data-site-root=https://imodeljs.github.io/iModelJs-docs-output// class='layout-index '>
    <span id="contentLoader">
        <p>Woah! This page has a great deal of content... Give us a second to load it.</p>
    </span>
    <span id="contentLoaderBackground"></span>
    <div id="flex-wrapper">



        <header id="main-header">
            <div class='nav-header-container'>
                <nav class="navbar nav-main-header navbar-expand-md fixed-top navbar-light pb-0">
                    <a href="https://imodeljs.github.io/iModelJs-docs-output//" class="navbar-brand">
                            <img id="site-logo" class="site-logo" src="https://imodeljs.github.io/iModelJs-docs-output//landing-page/assets/imodeljs-logo.svg" /> 
                            <img id="site-logo-small" class="site-logo-small" src="https://imodeljs.github.io/iModelJs-docs-output//landing-page/assets/imodeljs-icon.svg" style="display:none;"/> 
                    </a>
                    <button class="navbar-toggler no-user-select mr-auto" type="button" data-toggle="collapse" data-target="#navbar5">
                        <span class="navbar-toggler-header"></span>
                    </button>
                    <ul class="navbar-nav ml-auto pr-0 nav-search">
                        <span class='search-bar'>
                          <li>
                            <div id='search-container'>
                            </div>
                          </li>
                          <script>
                            (function() {
                              var cx = '018053174497532353467:v_gnrjjlqwc';
                              var gcse = document.createElement('script');
                              gcse.type = 'text/javascript';
                              gcse.async = true;
                              gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                              var s = document.getElementsByTagName('script')[0];
                              s.parentNode.insertBefore(gcse, s);
                            })();
                          </script>
                          <gcse:searchresults-only gname="sitesearch" resultSetSize="7"></gcse:search>
                        </span>
                    </ul>
                    <div class="navbar-collapse collapse justify-content-stretch" id="navbar5">
                        <ul class="navbar-nav mb-0" id="doc-site-tabs">
                                <li class="nav-item "><a class="nav-link" href="https://imodeljs.github.io/iModelJs-docs-output//getting-started">Getting Started</a></li><li class="nav-item "><a class="nav-link" href="https://imodeljs.github.io/iModelJs-docs-output//bis">BIS</a></li><li class="nav-item "><a class="nav-link" href="https://imodeljs.github.io/iModelJs-docs-output//learning">Learning</a></li><li class="nav-item "><a class="nav-link" href="https://imodeljs.github.io/iModelJs-docs-output//reference">API Reference</a></li><li class="nav-item change-history-tab active"><a class="nav-link" href="https://imodeljs.github.io/iModelJs-docs-output//changehistory">v1.1.0</a></li>
                        </ul>
                    </div>
                </nav>
            </div>
        </header>
<div id='main-wrapper'>
    <nav id='sidebar'>
        <div id='table-of-contents' class="custom-scrollbar">
            <div id="dismiss">
                <i id="dismiss-arrow" class="icon icon-chevron-left no-user-select"></i>
            </div>
            <hr id="dismiss-hr" class='sm-only'>
            <ul id='main-navigation-list'>
                <html><head></head><body><h2 id="change history">Change History</h2>
    <hr>
    <h3 id="versions">Versions</h3>
    <ul>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./changehistory/1.1.0" class="table-of-contents-link">1.1.0</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./changehistory/1.0.0" class="table-of-contents-link">1.0.0</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./changehistory/0.191.0" class="table-of-contents-link">0.191.0</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./changehistory/0.189.0" class="table-of-contents-link">0.189.0</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./changehistory/0.187.0" class="table-of-contents-link">0.187.0</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./changehistory/0.171.0" class="table-of-contents-link">0.171.0</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./changehistory/0.163.0" class="table-of-contents-link">0.163.0</a></p>
    </li>
    </ul>
    <hr>
    <h3 id="change logs"><a href="https://imodeljs.github.io/iModelJs-docs-output//./changehistory/changelogs" class="table-of-contents-link">Change Logs</a></h3>
    <ul>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./reference/imodeljs-backend/changelog" class="table-of-contents-link">imodeljs-backend</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./reference/imodeljs-frontend/changelog" class="table-of-contents-link">imodeljs-frontend</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./reference/imodeljs-common/changelog" class="table-of-contents-link">imodeljs-common</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./reference/geometry-core/changelog" class="table-of-contents-link">geometry-core</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./reference/imodeljs-clients/changelog" class="table-of-contents-link">imodeljs-clients</a></p>
    </li>
    <li><p><a href="https://imodeljs.github.io/iModelJs-docs-output//./reference/bentleyjs-core/changelog" class="table-of-contents-link">bentleyjs-core</a></p>
    </li>
    </ul>
    </body></html>
            </ul>
        </div>
    </nav>    <div class='documentation-main'>
        <article id="main" class="main-content">
            <button type="button" id="sidebarCollapse" class="no-user-select"> <i class="bread-crumb-label bread-crumb-expand-leftnav icon icon-chevron-right no-user-select" id="expand-leftnav"></i></button><div class='bread-crumb-label'>Change History</div>
            <div class="edit-link"><a href="https://github.com/imodeljs/imodeljs/tree/master/docs/core/changehistory/index.md">Edit this page</a></div>
            <h1 id="1.1.0 change notes">1.1.0 Change Notes</h1>
<h2 class="h-update-to-typescript-35">Update to TypeScript 3.5<a id="update-to-typescript-35" class="heading-anchor" href="#update-to-typescript-35"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>For the 1.0 release, iModel.js was using TypeScript 3.2. In order to take advantage of recent improvements, iModel.js has moved up to TypeScript 3.5. One of the main features of interest was the incremental build support. TypeScript 3.5 also includes some enhanced error checking over what was available in 3.2. This makes it easier to identify potential problems, but also may mean that source code that successfully compiled using 3.2 may require minor adjustments to compile using 3.5.</p>
<p>Please see the <a href="https://github.com/Microsoft/TypeScript/wiki/Roadmap" target="_blank">TypeScript Roadmap</a> for more details.</p>
<h2 class="h-new-frontend-devtools-package">New frontend-devtools package<a id="new-frontend-devtools-package" class="heading-anchor" href="#new-frontend-devtools-package"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>The new <code>frontend-devtools</code> package contains a collection of simple UI widgets providing diagnostics and customization related to the display system. These include:</p>
<ul>
<li><code>MemoryTracker</code> - reports on total GPU memory usage, breaking it down by different types of objects like textures and buffers. Memory can be reported for all tile trees in the system or only those currently displayed in the viewport.</li>
<li><code>FpsTracker</code> - reports average frames-per-second. Note: this forces the scene to be redrawn every frame, which may impact battery life on laptops and mobile devices.</li>
<li><code>TileStatisticsTracker</code> - reports exhaustive tile request statistics, including the current numbers of active and pending requests, the total number of completed, dispatched, failed, and timed-out requests, and more.</li>
<li><code>ToolSettingsTracker</code> - allows settings affecting the operation of viewing tools to be customized.</li>
</ul>
<p>These widgets may be used in any combination. Alternatively, <code>DiagnosticsPanel</code> bundles them all together as a set of expandable panels along with a handful of other features like freezing the current scene, controlling display of tile bounding boxes, and hiding particular types of geometry.</p>
<p><img src="./assets/diagnostics_panel.png" alt="Diagnostics Panel"></p>
<h2 class="h-display-system-optimizations">Display system optimizations<a id="display-system-optimizations" class="heading-anchor" href="#display-system-optimizations"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>Many incremental enhancements contributed to improved performance and quality of the rendering system and decreased memory usage, including:</p>
<ul>
<li>Reducing the number of tiles requested and expediently cancelling requests for tiles which are no longer needed.</li>
<li>Improving culling logic - this particularly improves performance when a clip volume is applied to the view.</li>
<li>Reclaiming memory from not-recently-drawn tiles.</li>
<li>Decompressing texture images in the background using web workers.</li>
<li>Eliminating distortion of text, and of the skybox in orthographic views.</li>
<li>Enabling tiles to be downloaded without edge data, and optimizing shaders to more efficiently render tiles without edges.</li>
</ul>
<h2 class="h-changes-to-handling-of-guid-ecproperties">Changes to handling of GUID ECProperties<a id="changes-to-handling-of-guid-ecproperties" class="heading-anchor" href="#changes-to-handling-of-guid-ecproperties"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>A <a href='https://imodeljs.github.io/iModelJs-docs-output//./reference/bentleyjs-core/ids/guid'>Guid</a> is stored inside an <a href='https://imodeljs.github.io/iModelJs-docs-output//./reference/imodeljs-backend/imodels/imodeldb'>IModelDb</a> as an ECProperty of <code>binary</code> type (a &quot;blob&quot; of bytes) with <code>extendedTypeName=&quot;BeGuid&quot;</code>, but represented in Typescript as a <code>string</code>. ECSql queries must translate between these two representations. Previously, querying such a property would return a 16-byte <code>Uint8Array</code>; in iModel.js 1.1 it instead returns a <code>string</code>.</p>
<p>The example below selects a Guid property:</p>
<pre class="no-line-numbers"><code class="language-typescript">  for await (const row of conn.query(&quot;SELECT FederationGuid FROM bis.Element WHERE FederationGuid IS NOT NULL&quot;)) {
    // Expect row.federationGuid to be a string of the format &quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;
  }</code></pre>
<p>When a Guid is bound to an ECSql parameter, either the <code>Uint8Array</code> <strong>or</strong> the <code>string</code> representation can be supplied. In the example below, the <code>string</code> representation is supplied:</p>
<pre class="no-line-numbers"><code class="language-typescript">  for await (const row of conn.query(&quot;SELECT FederationGuid FROM bis.Element WHERE FederationGuid = ?&quot;, [&quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;])) {
    // ...
  }</code></pre>
<p>Currently, the <code>string</code> representation <strong>cannot</strong> be used directly inside an ECSql statement. This will be fixed in a future version. For now, use the helper functions <code>GuidToStr</code> and <code>StrToGuid</code> to explicitly convert between binary and string:</p>
<pre class="no-line-numbers"><code class="language-typescript">  // WARNING: The following will not work because no implicit conversion between BINARY and STRING is performed.
  for await (const row of conn.query(&quot;SELECT FederationGuid FROM bis.Element WHERE FederationGuid = &apos;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&apos;&quot;)) { /* */ }

  // This query is logically equivalent to the above, and will work as expected because the string is explicitly converted to a blob.
  for await (const row of conn.query(&quot;SELECT FederationGuid FROM bis.Element WHERE FederationGuid = StrToGuid(&apos;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&apos;)&quot;)) { /* */ }

  // The inverse conversion can also be useful.
  for await (const row of conn.query(&quot;SELECT FederationGuid FROM bis.Element WHERE GuidToStr(FederationGuid) = &apos;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&apos;&quot;)) { /* */ }</code></pre>
<h2 class="h-ecsql-support-for-correlated-subqueries">ECSQL support for correlated subqueries<a id="ecsql-support-for-correlated-subqueries" class="heading-anchor" href="#ecsql-support-for-correlated-subqueries"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>ECSql now supports the following syntax for correlated subqueries</p>
<pre><code>  [NOT] EXISTS (&lt;subquery&gt;)</code></pre><h3 class="h-example">Example<a id="example" class="heading-anchor" href="#example"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h3>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId FROM bis.Element E
  WHERE EXISTS (
      SELECT 1 FROM meta.ECClassDef C WHERE C.ECInstanceId = E.ECClassId AND C.Name=&apos;Pump&apos;)

SELECT ECInstanceId FROM bis.Element E
  WHERE NOT EXISTS (
      SELECT 1 FROM meta.ECClassDef C WHERE C.ECInstanceId = E.ECClassId AND C.Name=&apos;Pump&apos;)
</code></pre>
<h2 class="h-ecsql-support-for-bitwise-operators">ECSQL support for bitwise operators<a id="ecsql-support-for-bitwise-operators" class="heading-anchor" href="#ecsql-support-for-bitwise-operators"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>ECSql now supports the following bitwise operators. The operand is treated as a signed 64-bit integer.</p>
<ul>
<li><code>~</code> not</li>
<li><code>|</code> or</li>
<li><code>&amp;</code> and</li>
<li><code>&lt;&lt;</code> left-shift</li>
<li><code>&gt;&gt;</code> right-shift</li>
</ul>
<h3 class="h-example-1">Example<a id="example-1" class="heading-anchor" href="#example-1"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h3>
<pre class="no-line-numbers"><code class="language-sql">SELECT 2 &amp; prop FROM test.Foo WHERE prop &amp; 2 = 2

SELECT 2 | prop FROM test.Foo WHERE prop | 2 = 2

SELECT *  FROM test.Foo WHERE (1 &lt;&lt; 2) &amp; prop

SELECT * FROM test.Foo WHERE ~prop &amp; 2;</code></pre>

            <p class='last-updated'>Last Updated:
                <span class='date-updated'>01 July, 2019</span>
            </p>
            <div id="imodeljs-github-comments">
            </div>
            
            <script>
              $(document).ready(function () {
                function initializeComments(repo) {
                  var s = document.createElement('script');
                  s.src = "https://imodeljs.github.io/iModelJs-docs-output//scripts/utterances/client.js";
                  s.setAttribute('repo', repo);
                  s.setAttribute('issue-term', 'title');
                  s.setAttribute('crossorigin', 'anonymous');
                  s.setAttribute('theme', 'github-light');
                  s.async = true;
            
                  document.getElementById("imodeljs-github-comments").appendChild(s);
                }
            
                var shouldShow = ldclient.variation(featureFlags.GithubIssuesFeedback);
            
                // shouldShow is undefined when ldclient has not emitted 'ready'.
                if (shouldShow === undefined) {
                  ldclient.on('ready', function () {
                    var gitIssueFlag = ldclient.variation(featureFlags.GithubIssuesFeedback);
                    var gitRepo = ldclient.variation(featureFlags.GitRepo);
                    if (gitIssueFlag) {
                      initializeComments(gitRepo);
                    }
                  });
                }
                else if (shouldShow) {
                  var gitRepo = ldclient.variation(featureFlags.GitRepo);
                  initializeComments(gitRepo);
                }
              });
            </script>
            
            <script type="text/javascript">
            
            </script>        </article>
    </div>
    <div class="toc-overlay"></div>
    <div id='inner-table-of-contents'>
       <!-- <div id='sticky-container' style="top: 76px; position: fixed;">
  <h4 class='heading'>On this page</h4>
    <div id="overview-container" class="clusterize-scroll">
      <ul id='nav' class='right-nav nav flex-column clusterize-content'>
              <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#update-to-typescript-35">Update to TypeScript 3.5</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#new-frontend-devtools-package">New frontend-devtools package</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#display-system-optimizations">Display system optimizations</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#changes-to-handling-of-guid-ecproperties">Changes to handling of GUID ECProperties</a>
    </li>
       <li class='nav-item item '>
            <a data-target="#inner-nav-ecsql-support-for-correlated-subqueries" class='title' href="#ecsql-support-for-correlated-subqueries"/>
            <b class='dropdown-menu-title menu-text'>ECSQL support for correlated subqueries</b>
            <i class='nav-list-dropdown icon'></i>
            </a>
            <ul id="inner-nav-ecsql-support-for-correlated-subqueries" class='inner-nav'>
                    <li class='nav-item item '>
                            <a class='title solo-title menu-text' href="#example">Example</a>
                    </li>
            </ul>
    </li>
       <li class='nav-item item '>
            <a data-target="#inner-nav-ecsql-support-for-bitwise-operators" class='title' href="#ecsql-support-for-bitwise-operators"/>
            <b class='dropdown-menu-title menu-text'>ECSQL support for bitwise operators</b>
            <i class='nav-list-dropdown icon'></i>
            </a>
            <ul id="inner-nav-ecsql-support-for-bitwise-operators" class='inner-nav'>
                    <li class='nav-item item '>
                            <a class='title solo-title menu-text' href="#example-1">Example</a>
                    </li>
            </ul>
    </li>
 
      </ul>
    </div>
  </div>

 -->
    </div>
</div>

<!-- Footer -->
<footer class="page-footer font-small mdb-color pt-1 pb-3">
  <!-- Footer Links Container -->
  <div class="container text-center text-md-left">

    <!-- Grid row -->
    <div class="row d-flex align-items-center mt-2">

      <!-- Grid column -->
      <div class="col-md-7 col-lg-8 align-top d-none d-md-block">

        <a href="https://imodeljs.github.io/iModelJs-docs-output//" class="navbar-brand">
          <img id="site-logo" class="site-logo" style="zoom:75%;"
            src="https://imodeljs.github.io/iModelJs-docs-output//landing-page/assets/imodeljs-logo.svg" />
        </a>
        <small style="color: white; margin-right: 7px;"> powered by </small>
        <a href="https://www.bentley.com">
          <img href="https://www.bentley.com" id="sponsored-by-logo" class="sponsored-by-logo"
            style="zoom:75%; width: 162px; height: 37px;"
            src="https://imodeljs.github.io/iModelJs-docs-output//landing-page/assets/bentley.svg" />
        </a>
      </div>
      <!-- Grid column -->

      <!-- Grid column -->
      <div class="col-md-5 col-lg-4 ml-lg-0">

        <!-- Social buttons -->
        <div class="text-center text-md-right">
          <ul class="list-unstyled list-inline">
            <li class="list-inline-item">
              <a class="btn-floating btn-sm rgba-white-slight mx-1" href="https://twitter.com/imodeljs" target="_blank">
                <i class="fa fa-twitter"></i>
              </a>
            </li>
            </li>
            <li class="list-inline-item">
              <a class="btn-floating btn-sm rgba-white-slight mx-1" href="https://github.com/imodeljs" target="_blank">
                <i class="fa fa-github"></i>
              </a>
            </li>
            <li class="list-inline-item">
              <a class="btn-floating btn-sm rgba-white-slight mx-1" href="https://stackoverflow.com/tags/imodeljs"
                target="_blank">
                <i class="fa fa-stack-overflow"></i>
              </a>
            </li>
          </ul>
        </div>

      </div>
      <!-- Grid column -->

    </div>
    <!-- Grid row -->

  </div>
  <!-- Footer Links Container -->

</footer>
<!-- Footer -->

</div>
<a href="javascript:" id="return-to-top"><i class="icon icon-chevron-up"></i></a>
<script src="https://imodeljs.github.io/iModelJs-docs-output//scripts/bundle.js"></script>
</body>

</html>
<script src="https://imodeljs.github.io/iModelJs-docs-output//scripts/monaco-editor/min/vs/loader.js"></script>
<script src="https://imodeljs.github.io/iModelJs-docs-output//scripts/ts-playground.js"></script>
